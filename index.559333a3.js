!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),r[e]=t),t}})),r("iE7OH").register(JSON.parse('{"7Gfrt":"index.559333a3.js","63WLt":"cactus.bb421734.png"}'));var i;i=r("aNJCr").getBundleURL("7Gfrt")+r("iE7OH").resolve("63WLt");!function(){var e,t=null,n=document.querySelector(".dino__stage"),o={dino:{isJumping:!1,isTouchingCactus:!1,dom:document.querySelector(".dino__dino")},ground:{width:481,offsets:[],dom:Array.from(document.querySelectorAll(".dino__ground *"))},cactuses:{dom:document.querySelector(".dino__cactuses"),width:33,clones:[]}};o.ground.dom.forEach((function(e,t){e.style.left=0===t?o.ground.width+"px":"0px",o.ground.offsets.push(parseFloat(e.style.left))}));var r=function(e){var t="Space"===e.code||"ArrowUp"===e.code,r=o.dino;if(("keydown"===e.type&&t||"mousedown"===e.type)&&!r.isJumping){var i=r.dom.style;e.preventDefault(),r.isJumping=!0,i.bottom="80%",setTimeout((function(){i.bottom="",n.addEventListener("transitionend",(function(){return r.isJumping=!1}))}),400)}};n.addEventListener("focus",(function(){n.addEventListener("keydown",r),n.addEventListener("mousedown",r),n.classList.add("dino__stage-focus")})),n.addEventListener("blur",(function(){n.removeEventListener("keydown",r),n.removeEventListener("mousedown",r),n.classList.remove("dino__stage-focus")}));var s=function(){var r=o.ground,s=o.cactuses,u=function(){if(r.offsets=r.offsets.map((function(e){return e-3})),r.dom.forEach((function(e,t){var n=r.offsets[t];e.style.left="".concat(n,"px"),n<=-r.width&&(r.offsets[t]=r.width*(r.dom.length-1))})),s.clones.forEach((function(e,t){e.offset-=3,e.dom.style.left="".concat(e.offset,"px"),e.offset<=-s.width&&(s.dom.removeChild(e.dom),s.clones.splice(t,1))})),0===s.clones.length||s.clones[s.clones.length-1].offset<r.width-(Math.floor(300*Math.random())+150)){var c=document.createElement("img");c.src=new URL(i),c.classList.add("dino__sprite","dino__onground"),c.style.width=Math.floor(15*Math.random())+10+"px",c.alt="cactus",s.clones.push({id:s.clones.length,offset:r.width+Math.random()*(r.width/8),dom:c}),s.dom.appendChild(c)}e++,n.querySelector(".dino__score span").textContent=e,t=requestAnimationFrame(u),function(){var e=o.dino,t=o.cactuses,n=e.dom.getBoundingClientRect(),r=!0,i=!1,s=void 0;try{for(var d,u=t.clones[Symbol.iterator]();!(r=(d=u.next()).done);r=!0){var c=d.value.dom.getBoundingClientRect();if(!(n.bottom<c.top||n.top>c.bottom||n.right<c.left||n.left>c.right))return o.dino.isTouchingCactus=!0,!0}}catch(e){i=!0,s=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw s}}return o.dino.isTouchingCactus=!1,!1}()&&(n.querySelector(".dino__end").style.display="",d())};u()},d=function(){t&&(cancelAnimationFrame(t),t=null,n.removeEventListener("keydown",r),n.removeEventListener("mousedown",r))},u=function(){d(),n.querySelector(".dino__play").style.display="none",n.querySelector(".dino__end").style.display="none",o.dino.isJumping=!1,o.dino.isTouchingCactus=!1,document.querySelector(".dino__cactuses").textContent="",o.cactuses.clones=[],e=0,o.ground.dom.forEach((function(e,t){e.style.left=0===t?o.ground.width+"px":"0px",o.ground.offsets[t]=parseFloat(e.style.left)})),n.setAttribute("tabindex","0"),n.focus(),s()};window.addEventListener("beforeunload",d),n.querySelector(".dino__play .btn").addEventListener("click",u),n.querySelector(".dino__end .btn").addEventListener("click",u),n.querySelector(".dino__end").style.display="none"}()}();
//# sourceMappingURL=index.559333a3.js.map
